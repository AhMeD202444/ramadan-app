<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>امساكية رمضان</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#060814;
      --bg1:#0B1020;

      --stroke: rgba(118,153,255,.16);
      --text:#EAF0FF;
      --muted:#AFC0FF;

      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 18px;

      --footerH: 56px;
      --headerBg: rgba(6,8,20,.55);
      --mainPadY: 24px;

      --a1: rgba(124,92,255,.92);
      --a2: rgba(46,229,157,.92);
      --a3: rgba(255,193,77,.92);
      --a4: rgba(255,92,122,.88);
    }

    *{ font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    html{ scroll-behavior:smooth; }

    body{
      color: var(--text);
      min-height: 100vh;
      background:
        radial-gradient(1200px 800px at 20% -10%, rgba(124,92,255,.38), transparent 55%),
        radial-gradient(900px 700px at 100% 10%, rgba(46,229,157,.18), transparent 55%),
        radial-gradient(800px 700px at 10% 110%, rgba(255,193,77,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    .app{ max-width: 980px; }

    /* ===== Header ===== */
    .topbar{
      position: sticky; top:0; z-index: 50;
      backdrop-filter: blur(14px);
      background: var(--headerBg);
      border-bottom: 1px solid rgba(118,153,255,.10);
      padding: 10px 0;
      transition: padding .25s ease, background .25s ease, border-color .25s ease;
    }
    .topbar.scrolled{
      padding: 6px 0;
      background: rgba(6,8,20,.72);
      border-bottom-color: rgba(118,153,255,.14);
    }
    .app-title{
      font-weight: 900;
      letter-spacing: .2px;
      font-size: 16px;
      line-height: 1.1;
      display:flex;
      align-items:center;
      gap:.6rem;
      white-space: nowrap;
    }

    /* Logo */
    .logoBox{
      width: 40px; height: 40px;
      border-radius: 14px;
      border: 1px solid rgba(118,153,255,.18);
      background: rgba(12,20,42,.52);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
      position: relative;
      overflow: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .25s ease;
    }
    .topbar.scrolled .logoBox{ transform: scale(.92); }
    .logoBox .layer{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      opacity:0;
      transform: translateY(8px) scale(.96);
      transition: opacity .45s ease, transform .45s ease, filter .45s ease;
      will-change: transform, opacity;
    }
    .logoBox .layer.on{
      opacity:1;
      transform: translateY(0) scale(1);
      filter: drop-shadow(0 8px 18px rgba(0,0,0,.25));
    }
    .logoBox .moon i{ font-size: 20px; color: rgba(124,92,255,.95); filter: drop-shadow(0 10px 22px rgba(124,92,255,.22)); }
    .logoBox .ramadanText{ padding:0 6px; text-align:center; line-height:1.05; font-size:11px; font-weight:900; color: rgba(255,193,77,.95); text-shadow: 0 8px 18px rgba(255,193,77,.14); }
    .logoBox .sparkle{
      position:absolute; width: 90px; height: 90px;
      background: radial-gradient(circle, rgba(255,255,255,.14), transparent 55%);
      opacity:0; transform: translate(28px,-26px);
      transition: opacity .45s ease;
      pointer-events:none;
    }
    .logoBox .layer.on ~ .sparkle{ opacity:.22; }

    /* Glass */
    .glass{
      background: linear-gradient(180deg, rgba(14,22,48,.72), rgba(10,16,35,.58));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }
    .divider{ height:1px; background: rgba(118,153,255,.12); }
    .muted{ color: var(--muted); }

    /* Buttons */
    .icon-btn{
      width: 40px; height: 40px;
      border-radius: 14px;
      border: 1px solid rgba(118,153,255,.16);
      background: rgba(12,20,42,.55);
      color: var(--text);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      transition: transform .12s ease, background .18s ease, border-color .18s ease;
      position: relative;
      overflow: hidden;
    }
    .icon-btn:hover{ background: rgba(12,20,42,.88); border-color: rgba(124,92,255,.35); transform: translateY(-1px); }
    .icon-btn:active{ transform: translateY(0) scale(.98); }
    .icon-btn i{ font-size: 20px; }

    /* Ripple */
    .ripple::after{
      content:"";
      position:absolute;
      width: 10px; height: 10px;
      border-radius: 999px;
      transform: scale(0);
      opacity: 0;
      background: rgba(255,255,255,.35);
      pointer-events:none;
    }
    .ripple.is-rippling::after{ animation: ripple .55s ease-out; }
    @keyframes ripple{
      0%{ transform: scale(0); opacity:.65; }
      100%{ transform: scale(22); opacity:0; }
    }

    main{
      padding-top: var(--mainPadY);
      padding-bottom: calc(var(--footerH) + var(--mainPadY) + env(safe-area-inset-bottom));
    }

    /* ===== Hero ===== */
    .hero-center{ display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap: 10px; }
    .big{ font-size: 44px; font-weight: 900; line-height: 1; letter-spacing: .4px; }

    /* Ring wrap bigger */
    .ringWrap{
      position: relative;
      width: 200px;
      height: 200px;
      display:flex;
      align-items:center;
      justify-content:center;
      isolation:isolate;
    }

    /* halo layers */
    .ringWrap::before{
      content:"";
      position:absolute;
      inset:-22px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 50% 50%,
          rgba(124,92,255,.18) 0%,
          rgba(46,229,157,.10) 35%,
          transparent 68%);
      filter: blur(16px);
      opacity:.25;
      transform: scale(.98);
      transition: opacity .45s ease, transform .45s ease;
      pointer-events:none;
      z-index:0;
    }
    .ringWrap::after{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 50% 50%,
          rgba(255,193,77,.14) 0%,
          transparent 62%);
      filter: blur(10px);
      opacity:.18;
      transform: scale(.98);
      transition: opacity .45s ease, transform .45s ease;
      pointer-events:none;
      z-index:0;
    }

    /* ring bigger */
    .ring{
      width: 155px; height: 155px; border-radius: 50%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.16), transparent 40%),
        conic-gradient(from 90deg, var(--a2), var(--a1), var(--a4), var(--a2));
      padding: 3px;
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
      position: relative;
      z-index: 2;
      transition: transform .35s ease, filter .35s ease, box-shadow .35s ease;
      overflow: hidden;
    }
    .ring > div{
      width: 100%; height: 100%; border-radius: 50%;
      background: rgba(7,10,18,.78);
      border: 1px solid rgba(118,153,255,.12);
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      padding: 10px;
      gap: 2px;
      position: relative;
      z-index: 3;
    }
    .ring .label{ font-size: 13px; color: var(--muted); font-weight: 900; }
    .ring .val{ font-size: 24px; font-weight: 900; letter-spacing:.2px; }

    /* base float */
    .floaty{ animation: floaty 5s ease-in-out infinite; }
    @keyframes floaty{ 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-6px)} }

    /* glint sweep */
    .ring .glint{
      position:absolute;
      inset:-60% -70%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.15), transparent);
      transform: rotate(16deg) translateX(-40%);
      opacity:.0;
      pointer-events:none;
      z-index: 2;
    }
    .ring.glint-on .glint{
      animation: glintMove 7.5s ease-in-out infinite;
      opacity:.55;
    }
    @keyframes glintMove{
      0%{ transform: rotate(16deg) translateX(-55%); opacity:0; }
      12%{ opacity:.75; }
      55%{ transform: rotate(16deg) translateX(55%); opacity:.25; }
      100%{ transform: rotate(16deg) translateX(55%); opacity:0; }
    }

    /* Attention levels */
    .attn-calm .ringWrap::before{ opacity:.18; transform: scale(.98); }
    .attn-calm .ringWrap::after { opacity:.12; transform: scale(.98); }
    .attn-calm .ring{ filter: drop-shadow(0 10px 18px rgba(124,92,255,.10)); }

    .attn-near .ringWrap::before{ opacity:.28; transform: scale(1.02); }
    .attn-near .ringWrap::after { opacity:.18; transform: scale(1.01); }
    .attn-near .ring{ filter: drop-shadow(0 12px 24px rgba(255,193,77,.12)); }
    .attn-near .ring{ animation: breathe 6.8s ease-in-out infinite; }
    @keyframes breathe{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-3px) scale(1.015); }
    }

    .attn-soon .ringWrap::before{ opacity:.45; transform: scale(1.10); }
    .attn-soon .ringWrap::after { opacity:.30; transform: scale(1.06); }
    .attn-soon .ring{
      filter: drop-shadow(0 16px 36px rgba(46,229,157,.14));
      animation: magnet 3.2s ease-in-out infinite;
      box-shadow: 0 22px 55px rgba(0,0,0,.45);
    }
    .attn-soon .ring.glint-on .glint{ animation-duration: 6.2s; opacity:.68; }
    @keyframes magnet{
      0%,100%{ transform: translateY(0) scale(1.02); }
      50%{ transform: translateY(-5px) scale(1.06); }
    }

    .attn-urgent .ringWrap::before{ opacity:.62; transform: scale(1.16); }
    .attn-urgent .ringWrap::after { opacity:.42; transform: scale(1.10); }
    .attn-urgent .ring{
      filter: drop-shadow(0 18px 50px rgba(255,92,122,.16));
      animation: urgentPulse 1.55s ease-in-out infinite;
      box-shadow: 0 26px 70px rgba(0,0,0,.55);
    }
    .attn-urgent .ring.glint-on .glint{ animation-duration: 4.8s; opacity:.75; }
    @keyframes urgentPulse{
      0%,100%{ transform: translateY(0) scale(1.05); }
      50%{ transform: translateY(-6px) scale(1.10); }
    }

    .badge-next{
      display:inline-flex;align-items:center;gap:.5rem;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(46,229,157,.14);
      border: 1px solid rgba(46,229,157,.35);
      color: #C8FFE9;
      font-weight: 800;
      justify-content:center;
      transition: transform .22s ease, background .22s ease, border-color .22s ease;
    }
    .badge-next.near{ background: rgba(255,193,77,.12); border-color: rgba(255,193,77,.28); color:#FFE8B8; transform: translateY(-1px); }
    .badge-next.soon{ background: rgba(124,92,255,.12); border-color: rgba(124,92,255,.26); color:#E4DDFF; transform: translateY(-1px); }
    .badge-next.urgent{ background: rgba(255,92,122,.12); border-color: rgba(255,92,122,.30); color:#FFD2DD; transform: translateY(-2px); }

    /* Date pill */
    .datePill{
      display:inline-flex; align-items:center; gap:.55rem;
      padding: 10px 12px; border-radius: 999px;
      border: 1px solid rgba(118,153,255,.14);
      background: rgba(12,20,42,.45);
      color: rgba(234,240,255,.92);
      font-weight: 900; font-size: 13px;
      min-height: 40px; justify-content:center;
    }
    .datePill i{ color: rgba(255,193,77,.92); font-size: 16px; }
    .datePill .swap{ display:inline-block; transition: opacity .35s ease, transform .35s ease, filter .35s ease; }
    .datePill .swap.out{ opacity:0; transform: translateY(-8px); filter: blur(1px); }
    .datePill .swap.in{ opacity:1; transform: translateY(0); filter: blur(0); }

    /* Prayer cards */
    .prayer-card{
      background: rgba(12,20,42,.55);
      border: 1px solid rgba(118,153,255,.14);
      border-radius: 16px;
      padding: 12px;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
      position: relative;
      overflow:hidden;
    }
    .prayer-card:hover{ transform: translateY(-2px); }
    .prayer-card.active{
      border-color: rgba(46,229,157,.55);
      box-shadow: 0 0 0 3px rgba(46,229,157,.10), 0 18px 60px rgba(0,0,0,.35);
      background: linear-gradient(90deg, rgba(46,229,157,.10), rgba(12,20,42,.55));
    }
    .ic{
      width:42px;height:42px;border-radius: 16px;
      display:flex;align-items:center;justify-content:center;
      background: rgba(124,92,255,.12);
      border: 1px solid rgba(118,153,255,.16);
    }
    .ic i{ font-size: 22px; color: #DED8FF; }
    .pname{ font-weight: 900; }
    .ptime{ font-weight: 900; font-size: 18px; }

    /* Dua/Hadith swap */
    .cardSwap{
      position: relative;
      overflow: hidden;
      transition: transform .22s ease, opacity .22s ease, filter .22s ease;
      will-change: transform, opacity;
    }
    .cardSwap.out{
      opacity:0;
      transform: translateY(10px) rotateX(6deg) scale(.985);
      filter: blur(1px);
    }
    .shine{
      position:absolute;
      inset:-40% -60%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      transform: rotate(14deg);
      opacity: 0;
      pointer-events:none;
    }
    .cardSwap.flash .shine{ animation: shineMove .85s ease; }
    @keyframes shineMove{
      0%{ transform: translateX(-40%) rotate(14deg); opacity: 0; }
      20%{ opacity:.8; }
      100%{ transform: translateX(40%) rotate(14deg); opacity: 0; }
    }

    /* Footer */
    footer.fixed-footer{
      position: fixed; left: 0; right: 0; bottom: 0;
      height: calc(var(--footerH) + env(safe-area-inset-bottom));
      display:flex; align-items:center; justify-content:center;
      backdrop-filter: blur(14px);
      background: linear-gradient(90deg, rgba(6,8,20,.72), rgba(14,22,48,.62));
      border-top: 1px solid rgba(118,153,255,.10);
      z-index: 60;
      padding: 0 14px;
    }
    footer .foot-inner{
      width: min(980px, calc(100% - 24px));
      display:flex; align-items:center; justify-content:space-between; gap: 10px;
      padding-bottom: env(safe-area-inset-bottom);
    }
    .foot-badge{ display:flex; align-items:center; gap:.5rem; color: var(--muted); font-size: 13px; white-space: nowrap; }
    .foot-badge i{ color: rgba(124,92,255,.9); filter: drop-shadow(0 8px 18px rgba(124,92,255,.20)); font-size: 16px; }
    .foot-right{ display:flex; align-items:center; gap:.4rem; color: rgba(234,240,255,.88); font-size: 13px; white-space: nowrap; }
    .foot-right .dot{ width:6px;height:6px;border-radius:999px; background: rgba(46,229,157,.85); box-shadow: 0 0 0 6px rgba(46,229,157,.10); display:inline-block; }

    /* Touch polish */
    html, body{ -webkit-tap-highlight-color: transparent; -webkit-touch-callout: none; user-select: none; }
    p, span, h1, h2, h3, h4, h5, h6, small, .text, .muted { user-select: text; }
    button, a, .icon-btn, .ripple, [role="button"]{ -webkit-tap-highlight-color: transparent; touch-action: manipulation; }

    @media (max-width: 576px){
      .big{ font-size: 38px; }
      /* bigger for mobile too */
      .ringWrap{ width: 186px; height: 186px; }
      .ring{ width: 145px; height: 145px; }
      .app-title{ font-size: 15px; }
      .icon-btn{ width: 38px; height: 38px; }
      .logoBox{ width: 38px; height: 38px; }
    }
    

/* ===== PRINT: One Page ULTRA Premium (A4) ===== */
.print-sheet{ display:none; }

@media print{
  @page{ size: A4 portrait; margin: 10mm; }

  body{
    background:#fff !important;
    color:#111 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* اخفاء كل شي واظهار الطباعة فقط */
  body *{ visibility:hidden !important; }
  #printSheet, #printSheet *{ visibility:visible !important; }

  .topbar, footer.fixed-footer{ display:none !important; }

  #printSheet{
    display:block !important;
    position:absolute;
    inset:0;
  }

  /* Card wrapper */
  .print-card{
    border: 1px solid #e9e9f3;
    border-radius: 16px;
    padding: 10px 10px 8px;
    background:
      radial-gradient(900px 300px at 18% -10%, rgba(124,92,255,.10), transparent 60%),
      radial-gradient(900px 300px at 95% 0%, rgba(255,193,77,.10), transparent 62%),
      #fff;
    box-shadow: 0 12px 26px rgba(0,0,0,.06);
  }

  /* ===== Header (More premium) ===== */
  .phead{
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap: 12px;
    padding: 10px 12px 12px;
    border: 1px solid #ededf6;
    border-radius: 14px;
    background: linear-gradient(180deg, #fbfbff, #ffffff);
    margin-bottom: 8px;
    position:relative;
    overflow:hidden;
  }
  .phead::after{
    content:"";
    position:absolute;
    left: 12px; right: 12px; bottom: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(124,92,255,.22), rgba(255,193,77,.22), transparent);
    opacity:.9;
  }

  .pbrand{ display:flex; align-items:flex-start; gap: 10px; }
  .pmark{ display:flex; gap:6px; padding-top: 4px; }
  .pmark span{
    width:8px; height:8px; border-radius:999px;
    background:#111; opacity:.16;
  }

  .ptitle{
    font-size: 16.4px;
    font-weight: 1000;
    letter-spacing:.2px;
  }
  .psub{
    font-size: 10px;
    color:#555;
    font-weight: 900;
    margin-top: 2px;
  }

  .pmeta{
    text-align:left;
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap: 6px;
  }
  .pchip{
    font-size: 9.6px;
    font-weight: 1000;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid #e8e8f2;
    background: #fff;
    box-shadow: 0 10px 16px rgba(0,0,0,.04);
  }
  .pstamp{
    font-size: 9.2px;
    color:#666;
    font-weight: 900;
  }

  /* ===== Table wrapper ===== */
  .ptable-wrap{
    border: 1px solid #ededf6;
    border-radius: 14px;
    overflow:hidden;
    box-shadow: 0 12px 22px rgba(0,0,0,.05);
  }

  /* Table */
  .ptable{
    width:100%;
    border-collapse: separate;
    border-spacing: 0;
    table-layout: fixed;
    font-size: 9.6px; /* شوي اكبر بس بعده صفحة وحدة */
  }

  .ptable thead th{
    background: linear-gradient(180deg, #f7f7ff, #f2f2fb);
    border-bottom: 1px solid #e7e7f2;
    padding: 6px 4px;
    text-align:center;
    font-weight: 1000;
    white-space:nowrap;
    color:#222;
  }

  /* فواصل عمودية ناعمة */
  .ptable thead th + th{ border-right: 1px solid #ececf6; }
  .ptable tbody td + td{ border-right: 1px solid #f0f0f7; }

  .ptable tbody td{
    border-bottom: 1px solid #f1f1f7;
    padding: 5px 4px;
    text-align:center;
    font-weight: 900;
    white-space:nowrap;
    color:#1b1b1b;
  }

  /* Zebra أنعم */
  .ptable tbody tr:nth-child(even){ background:#fbfbff; }
  .ptable tbody tr:nth-child(odd){ background:#ffffff; }

  /* عمود اليوم يكون أوضح */
  .c-day{
    width: 13.5%;
    text-align:right !important;
    padding-right: 7px !important;
    font-weight: 1000 !important;
    color:#111 !important;
  }
  /* التاريخين (هجري/ميلادي) بنفس الستايل */
  .c-h, .c-g{
    width: 10.5%;
    font-weight: 1000 !important;
    color:#222 !important;
  }

  /* فاصل أجمل بعد العمود الثالث */
  .ptable thead th:nth-child(3),
  .ptable tbody td:nth-child(3){
    border-right: 2px solid #ececf6 !important;
  }

  /* ===== Footer ===== */
  .pfoot{
    margin-top: 8px;
    padding: 8px 12px;
    border: 1px solid #ededf6;
    border-radius: 14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size: 9.6px;
    color:#555;
    font-weight: 1000;
    background: linear-gradient(180deg, #ffffff, #fbfbff);
    box-shadow: 0 10px 18px rgba(0,0,0,.04);
  }

  /* ===== ✅ HIGHLIGHTS: Last 10 + Qadr Nights =====
     تحتاج تضيف class="last10" و class="qadr" على <tr> بالـJS
  */

  /* العشرة الاواخر (21-30) */
  .ptable tbody tr.last10{
    background: linear-gradient(90deg, rgba(124,92,255,.07), rgba(255,193,77,.05)) !important;
  }

  /* ليالي الوتر (21,23,25,27,29) */
  .ptable tbody tr.qadr{
    background: linear-gradient(90deg, rgba(255,193,77,.14), rgba(124,92,255,.10)) !important;
    outline: 1px solid rgba(255,193,77,.28);
    outline-offset: -1px;
  }

  /* بادج "ليلة وتر" داخل عمود اليوم */
  .ptable tbody tr.qadr td.c-day{
    position: relative;
    padding-right: 54px !important;
  }
  .ptable tbody tr.qadr td.c-day::after{
    content:"ليلة وتر";
    position:absolute;
    top: 50%;
    transform: translateY(-50%);
    right: 6px;
    font-size: 9px;
    font-weight: 1000;
    color:#6a4b13;
    background: rgba(255,193,77,.22);
    border: 1px solid rgba(255,193,77,.35);
    padding: 2px 6px;
    border-radius: 999px;
    white-space: nowrap;
  }

  .print-card, .ptable-wrap, .ptable{ break-inside: avoid; }
  tr{ break-inside: avoid; }
}
  </style>
</head>

<body>
  <div class="topbar" id="topbar">
    <div class="container app">
      <div class="d-flex align-items-center justify-content-between">
        <div class="app-title">
          <div class="logoBox" aria-hidden="true">
            <div class="layer moon on" id="logoMoon"><i class="mdi mdi-moon-waning-crescent"></i></div>
            <div class="layer" id="logoRamadan"><div class="ramadanText">رمضان<br>مبارك</div></div>
            <div class="sparkle"></div>
          </div>
          <span>امساكية رمضان</span>
        </div>

     <div class="d-flex gap-2">
  <button class="icon-btn ripple" id="btnPrev" title="يوم قبل"><i class="mdi mdi-chevron-right"></i></button>

  <!-- ✅ زر الطباعة -->
  <button class="icon-btn ripple" id="btnPrint" title="طباعة الامساكية">
    <i class="mdi mdi-printer-outline"></i>
  </button>

  <button class="icon-btn ripple" id="btnNext" title="يوم بعد"><i class="mdi mdi-chevron-left"></i></button>
</div>
      </div>
    </div>
  </div>

  <main class="container app">
    <div class="row g-3">
      <div class="col-12">

        <div class="glass p-3 p-sm-4">
          <div class="d-flex flex-column align-items-center text-center gap-3">
            <div>
              <div class="muted small">اليوم الحالي</div>
              <div class="fw-bold" id="dayLine">—</div>

              <div class="d-flex justify-content-center flex-wrap gap-2 mt-3">
                <div class="datePill">
                  <i class="mdi mdi-calendar-star"></i>
                  <span class="swap in" id="dateSwap">—</span>
                </div>
              </div>
            </div>

            <div class="hero-center" id="attnRoot">
              <div class="ringWrap">
                <div class="ring floaty glint-on" id="ring">
                  <div>
                    <div class="glint" aria-hidden="true"></div>
                    <div class="label">الصلاة الجاية</div>
                    <div class="val" id="nextShort">—</div>
                  </div>
                </div>
              </div>

              <!-- ✅ هنا حذفنا (باقي ...) من النص -->
              <div class="badge-next" id="nextBadge">
                <i class="mdi mdi-bell-ring-outline"></i>
                <span>—</span>
              </div>

              <div class="big" id="countdown">--:--:--</div>
              <div class="small muted">العدّاد يعتمد على وقت جهازك</div>
            </div>
          </div>

          <div class="divider my-3"></div>
          <div class="row g-2" id="prayersWrap"></div>
        </div>

        <div class="glass p-3 p-sm-4 mt-3">
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
            <div class="text-start">
              <div class="fw-bold" style="font-size:16px;">
                <i class="mdi mdi-star-four-points-outline" style="color:rgba(255,193,77,.95)"></i>
                لمسة روحانية
              </div>
            </div>

            <button class="icon-btn ripple" id="btnShuffle" title="تبديل">
              <i class="mdi mdi-shuffle-variant"></i>
            </button>
          </div>

          <div class="divider my-3"></div>

          <div class="row g-2">
            <div class="col-12">
              <div class="glass p-3 cardSwap" style="background: rgba(12,20,42,.55); border-radius:16px; border:1px solid rgba(118,153,255,.14);" id="duaCard">
                <div class="shine"></div>
                <div class="d-inline-flex align-items-center gap-2 mb-2"
                     style="padding:7px 10px;border-radius:999px;background:rgba(255,193,77,.10);border:1px solid rgba(255,193,77,.18);color:#FFE2A1;font-weight:900;font-size:13px;">
                  <i class="mdi mdi-hands-pray"></i> دعاء
                </div>
                <div style="font-weight:800; line-height:1.9; font-size:16px;" id="duaText">—</div>
              </div>
            </div>

            <div class="col-12">
              <div class="glass p-3 cardSwap" style="background: rgba(12,20,42,.55); border-radius:16px; border:1px solid rgba(118,153,255,.14);" id="hadithCard">
                <div class="shine"></div>
                <div class="d-inline-flex align-items-center gap-2 mb-2"
                     style="padding:7px 10px;border-radius:999px;background:rgba(124,92,255,.10);border:1px solid rgba(124,92,255,.18);color:#E4DDFF;font-weight:900;font-size:13px;">
                  <i class="mdi mdi-message-text-outline"></i> حديث قصير
                </div>
                <div style="font-weight:800; line-height:1.9; font-size:16px;" id="hadithText">—</div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
    
    
    <!-- ===== PRINT SHEET (Hidden on screen, shown in print) ===== -->
<section id="printSheet" class="print-sheet" aria-hidden="true">
  <div class="print-card">
    <header class="phead">
      <div class="pbrand">
        <div class="pmark" aria-hidden="true">
          <span></span><span></span><span></span>
        </div>
        <div class="ptitles">
          <div class="ptitle">امساكية شهر رمضان 2026</div>
          <div class="psub">بعقوبة — مواقيت الصلاة اليومية (صيغة 12 ساعة)</div>
        </div>
      </div>

      <div class="pmeta">
        <div class="pchip">Ramadan Timetable</div>
        <div class="pstamp" id="printMeta">—</div>
      </div>
    </header>

    <div class="ptable-wrap">
      <table class="ptable">
        <thead>
          <tr>
            <th class="c-day">اليوم</th>
            <th class="c-h">هجري</th>
            <th class="c-g">ميلادي</th>
            <th>الفجر</th>
            <th>الشروق</th>
            <th>الظهر</th>
            <th>العصر</th>
            <th>المغرب</th>
            <th>العشاء</th>
          </tr>
        </thead>
        <tbody id="printTbody"></tbody>
      </table>
    </div>

    <footer class="pfoot">
      <div class="pf-left">جميع الحقوق محفوظة © احمد البياتي</div>
      <div class="pf-right">نسخة منسّقة — صفحة واحدة</div>
    </footer>
  </div>
</section>
    
    
    
  </main>

  <footer class="fixed-footer">
    <div class="foot-inner">
      <div class="foot-badge">
        <i class="mdi mdi-shield-check-outline"></i>
        <span>جميع الحقوق محفوظة</span>
      </div>
      <div class="foot-right">
        <span class="dot"></span>
        <span>@ احمد البياتي</span>
      </div>
    </div>
  </footer>

  <script>
    const $ = (id) => document.getElementById(id);

    // Ripple
    document.addEventListener("click", (e)=>{
      const btn = e.target.closest(".ripple");
      if(!btn) return;
      btn.classList.remove("is-rippling");
      void btn.offsetWidth;
      btn.classList.add("is-rippling");
    });

    // Header shrink
    const topbar = $("topbar");
    window.addEventListener("scroll", ()=>{
      const y = window.scrollY || document.documentElement.scrollTop;
      if (y > 10) topbar.classList.add("scrolled"); else topbar.classList.remove("scrolled");
    }, {passive:true});

    // Logo morph
    (function logoMorph(){
      const moon = $("logoMoon");
      const ramadan = $("logoRamadan");
      let onMoon = true;
      setInterval(()=>{
        if(onMoon){ moon.classList.remove("on"); ramadan.classList.add("on"); }
        else { ramadan.classList.remove("on"); moon.classList.add("on"); }
        onMoon = !onMoon;
      }, 2600);
    })();

    // ===== Data (بعقوبة رمضان 2026) =====
  const data = [
  {n:1,  dow:"الأربعاء", h:"1 رمضان",  g:"18 فبراير", fajr:"05:20", sunrise:"06:43", dhuhr:"12:20", asr:"15:26", maghrib:"17:52", isha:"19:08"},
  {n:2,  dow:"الخميس",   h:"2 رمضان",  g:"19 فبراير", fajr:"05:19", sunrise:"06:42", dhuhr:"12:20", asr:"15:26", maghrib:"17:53", isha:"19:08"},
  {n:3,  dow:"الجمعة",   h:"3 رمضان",  g:"20 فبراير", fajr:"05:18", sunrise:"06:41", dhuhr:"12:20", asr:"15:27", maghrib:"17:54", isha:"19:09"},
  {n:4,  dow:"السبت",    h:"4 رمضان",  g:"21 فبراير", fajr:"05:17", sunrise:"06:40", dhuhr:"12:20", asr:"15:27", maghrib:"17:55", isha:"19:10"},
  {n:5,  dow:"الأحد",    h:"5 رمضان",  g:"22 فبراير", fajr:"05:16", sunrise:"06:39", dhuhr:"12:19", asr:"15:28", maghrib:"17:55", isha:"19:11"},
  {n:6,  dow:"الإثنين",  h:"6 رمضان",  g:"23 فبراير", fajr:"05:15", sunrise:"06:38", dhuhr:"12:19", asr:"15:29", maghrib:"17:56", isha:"19:12"},
  {n:7,  dow:"الثلاثاء", h:"7 رمضان",  g:"24 فبراير", fajr:"05:14", sunrise:"06:37", dhuhr:"12:19", asr:"15:29", maghrib:"17:57", isha:"19:12"},
  {n:8,  dow:"الأربعاء", h:"8 رمضان",  g:"25 فبراير", fajr:"05:13", sunrise:"06:35", dhuhr:"12:19", asr:"15:30", maghrib:"17:58", isha:"19:13"},
  {n:9,  dow:"الخميس",   h:"9 رمضان",  g:"26 فبراير", fajr:"05:11", sunrise:"06:34", dhuhr:"12:19", asr:"15:30", maghrib:"17:59", isha:"19:14"},
  {n:10, dow:"الجمعة",   h:"10 رمضان", g:"27 فبراير", fajr:"05:10", sunrise:"06:33", dhuhr:"12:19", asr:"15:31", maghrib:"18:00", isha:"19:15"},
  {n:11, dow:"السبت",    h:"11 رمضان", g:"28 فبراير", fajr:"05:09", sunrise:"06:32", dhuhr:"12:19", asr:"15:31", maghrib:"18:01", isha:"19:16"},
  {n:12, dow:"الأحد",    h:"12 رمضان", g:"1 مارس",   fajr:"05:09", sunrise:"06:32", dhuhr:"12:19", asr:"15:31", maghrib:"18:01", isha:"19:16"},
  {n:13, dow:"الإثنين",  h:"13 رمضان", g:"2 مارس",   fajr:"05:08", sunrise:"06:31", dhuhr:"12:18", asr:"15:32", maghrib:"18:01", isha:"19:17"},
  {n:14, dow:"الثلاثاء", h:"14 رمضان", g:"3 مارس",   fajr:"05:07", sunrise:"06:29", dhuhr:"12:18", asr:"15:32", maghrib:"18:02", isha:"19:17"},
  {n:15, dow:"الأربعاء", h:"15 رمضان", g:"4 مارس",   fajr:"05:06", sunrise:"06:28", dhuhr:"12:18", asr:"15:33", maghrib:"18:03", isha:"19:18"},
  {n:16, dow:"الخميس",   h:"16 رمضان", g:"5 مارس",   fajr:"05:04", sunrise:"06:27", dhuhr:"12:18", asr:"15:33", maghrib:"18:04", isha:"19:19"},
  {n:17, dow:"الجمعة",   h:"17 رمضان", g:"6 مارس",   fajr:"05:03", sunrise:"06:26", dhuhr:"12:17", asr:"15:34", maghrib:"18:05", isha:"19:20"},
  {n:18, dow:"السبت",    h:"18 رمضان", g:"7 مارس",   fajr:"05:02", sunrise:"06:24", dhuhr:"12:17", asr:"15:34", maghrib:"18:06", isha:"19:21"},
  {n:19, dow:"الأحد",    h:"19 رمضان", g:"8 مارس",   fajr:"05:00", sunrise:"06:23", dhuhr:"12:17", asr:"15:34", maghrib:"18:06", isha:"19:21"},
  {n:20, dow:"الإثنين",  h:"20 رمضان", g:"9 مارس",   fajr:"04:59", sunrise:"06:22", dhuhr:"12:17", asr:"15:35", maghrib:"18:07", isha:"19:22"},
  {n:21, dow:"الثلاثاء", h:"21 رمضان", g:"10 مارس",  fajr:"04:58", sunrise:"06:21", dhuhr:"12:17", asr:"15:35", maghrib:"18:08", isha:"19:23"},
  {n:22, dow:"الأربعاء", h:"22 رمضان", g:"11 مارس",  fajr:"04:57", sunrise:"06:19", dhuhr:"12:16", asr:"15:36", maghrib:"18:09", isha:"19:24"},
  {n:23, dow:"الخميس",   h:"23 رمضان", g:"12 مارس",  fajr:"04:55", sunrise:"06:18", dhuhr:"12:16", asr:"15:36", maghrib:"18:10", isha:"19:25"},
  {n:24, dow:"الجمعة",   h:"24 رمضان", g:"13 مارس",  fajr:"04:54", sunrise:"06:17", dhuhr:"12:16", asr:"15:36", maghrib:"18:10", isha:"19:25"},
  {n:25, dow:"السبت",    h:"25 رمضان", g:"14 مارس",  fajr:"04:53", sunrise:"06:15", dhuhr:"12:15", asr:"15:37", maghrib:"18:11", isha:"19:26"},
  {n:26, dow:"الأحد",    h:"26 رمضان", g:"15 مارس",  fajr:"04:51", sunrise:"06:14", dhuhr:"12:15", asr:"15:37", maghrib:"18:12", isha:"19:27"},
  {n:27, dow:"الإثنين",  h:"27 رمضان", g:"16 مارس",  fajr:"04:50", sunrise:"06:13", dhuhr:"12:15", asr:"15:37", maghrib:"18:13", isha:"19:28"},
  {n:28, dow:"الثلاثاء", h:"28 رمضان", g:"17 مارس",  fajr:"04:48", sunrise:"06:11", dhuhr:"12:15", asr:"15:38", maghrib:"18:14", isha:"19:29"},
  {n:29, dow:"الأربعاء", h:"29 رمضان", g:"18 مارس",  fajr:"04:47", sunrise:"06:10", dhuhr:"12:14", asr:"15:38", maghrib:"18:14", isha:"19:29"},
  {n:30, dow:"الخميس",   h:"30 رمضان", g:"19 مارس",  fajr:"04:46", sunrise:"06:09", dhuhr:"12:14", asr:"15:38", maghrib:"18:15", isha:"19:30"},
];

    const prayers = [
      {key:"fajr",    name:"الفجر",   icon:"mdi-weather-sunset-up"},
      {key:"sunrise", name:"الشروق",  icon:"mdi-weather-sunny"},
      {key:"dhuhr",   name:"الظهر",   icon:"mdi-weather-sunny-alert"},
      {key:"asr",     name:"العصر",   icon:"mdi-weather-sunset"},
      {key:"maghrib", name:"المغرب",  icon:"mdi-weather-night"},
      {key:"isha",    name:"العشاء",  icon:"mdi-moon-waxing-crescent"},
    ];

    const duaBase = [
      
      "اللهم تقبّل صيامنا وقيامنا واغفر لنا ذنوبنا.",
  "اللهم اجعل رمضان لنا نوراً وشفاءً ورحمة.",
  "اللهم ارزقنا الإخلاص في القول والعمل.",
  "اللهم افتح لنا أبواب الخير والرزق الحلال.",
  "اللهم اجعلنا من عتقائك من النار.",
  "اللهم ثبّت قلوبنا على طاعتك.",
  "اللهم اشفِ مرضانا وارحم موتانا.",
  "اللهم اشرح صدورنا ويسّر أمورنا.",
  "اللهم اجعل القرآن ربيع قلوبنا.",
  "اللهم اجعلنا من الذاكرين الشاكرين.",
  "اللهم أصلح لنا ديننا ودنيانا وآخرتنا.",
  "اللهم بارك لنا في أعمارنا وأهلنا.",
  "اللهم ارزقنا حسن الخاتمة.",
  "اللهم اغفر لنا ولوالدينا وللمؤمنين.",
  "اللهم اجعل هذا اليوم فرجاً لكل مهموم.",
  "اللهم ارزقنا توبة نصوحاً لا نعود بعدها.",
  "اللهم اجعلنا من أهل الجنة بغير حساب.",
  "اللهم اجعل صلاتنا قرة عين لنا.",
  "اللهم احفظنا بحفظك الذي لا يرام.",
  "اللهم اجعل لنا من كل ضيق مخرجاً.",
  "اللهم ارزقنا السكينة والطمأنينة.",
  "اللهم املأ قلوبنا حباً لك وخشيةً منك.",
  "اللهم اجعل لنا نصيباً من كل خير.",
  "اللهم ارزقنا بركة الوقت والعمل.",
  "اللهم اجعلنا من المقبولين في هذا الشهر.",
  "اللهم اجبر كسر قلوبنا.",
  "اللهم بدّل أحزاننا أفراحاً.",
  "اللهم اجعل لنا دعوة لا تُرد.",
  "اللهم ارزقنا صحبة صالحة تعيننا على طاعتك.",
  "اللهم اهدِنا واهدِ بنا واجعلنا سبباً لهداية غيرنا.",
  "اللهم ارزقنا حسن الظن بك.",
  "اللهم اجعلنا من الذين يستمعون القول فيتبعون أحسنه.",
  "اللهم اجعل لنا نوراً في القلب واللسان.",
  "اللهم حبّب إلينا الإيمان وزيّنه في قلوبنا.",
  "اللهم جنّبنا الفتن ما ظهر منها وما بطن.",
  "اللهم ارزقنا خشوعاً في الصلاة.",
  "اللهم اجعلنا من أهل قيام الليل.",
  "اللهم اجعلنا من أهل الصدقة والإحسان.",
  "اللهم ارزقنا سلامة الصدر.",
  "اللهم ارفع عنا البلاء والوباء.",
  "اللهم ارزقنا رزقاً واسعاً مباركاً.",
  "اللهم ارزقنا قضاء الحوائج وتيسير الأمور.",
  "اللهم اجعلنا من الفائزين بليلة القدر.",
  "اللهم لا تجعل لنا ذنباً إلا غفرته.",
  "اللهم لا تجعل لنا همّاً إلا فرّجته.",
  "اللهم لا تجعل لنا ديناً إلا قضيته.",
  "اللهم تقبّل منا صالح الأعمال.",
  "اللهم ارزقنا العفو والعافية.",
  "اللهم ارزقنا نعمة الرضا والقناعة.",
  "اللهم اجعل لساننا رطباً بذكرك.",
  "اللهم طهّر قلوبنا من الحقد والحسد.",
  "اللهم اجعلنا من المتوكلين عليك.",
  "اللهم ارزقنا برّ الوالدين.",
  "اللهم اجعلنا من الواصلين لأرحامنا.",
  "اللهم أكرمنا بحسن الأخلاق.",
  "اللهم ارزقنا الصبر الجميل.",
  "اللهم ارزقنا شكر نعمك.",
  "اللهم اجعل لنا نصيباً من الرحمة والمغفرة.",
  "اللهم اجعل أيامنا طاعة وقرباً منك.",
  "اللهم اكتب لنا الخير حيث كان ثم رضّنا به.",
  "اللهم اجعلنا من الذين تُحبّهم ويُحبّونك.",
  "اللهم أعنّا على ذكرك وشكرك وحسن عبادتك.",
  "اللهم ارزقنا سلامة الدين والعقل والبدن.",
  "اللهم اجعلنا من الساجدين القانتين.",
  "اللهم اجعلنا من أهل الاستغفار.",
  "اللهم ارزقنا حسن التلاوة والتدبر.",
  "اللهم ارزقنا التوفيق لما تحب وترضى.",
  "اللهم افتح لنا أبواب التيسير.",
  "اللهم اجعل لنا من لدنك رحمة.",
  "اللهم اجعل لنا في هذا اليوم نصراً وفرجاً.",
  "اللهم اكتب لنا القبول في السماء والأرض.",
  "اللهم ارزقنا دعاء مستجاباً.",
  "اللهم اجعلنا من أهل الستر.",
  "اللهم اجعلنا من أهل الأمانة.",
  "اللهم ارزقنا صدق النية.",
  "اللهم طمئن قلوبنا بذكرك.",
  "اللهم نوّر قبور موتانا.",
  "اللهم اجعل هذا الشهر بداية خير لنا.",
  "اللهم ارزقنا سعة الصدر وحسن التعامل.",
  "اللهم اجعل لنا رزقاً لا ينقطع.",
  "اللهم صلّح أولادنا واحفظهم.",
  "اللهم اجعلنا من أهل البركة في البيوت.",
  "اللهم اصرف عنا شرور أنفسنا.",
  "اللهم اجعلنا من أهل التسامح.",
  "اللهم ارزقنا حب الخير للناس.",
  "اللهم اجعلنا من الكاظمين الغيظ.",
  "اللهم اجعلنا من العافين عن الناس.",
  "اللهم ارزقنا الإحسان في السر والعلن.",
  "اللهم اجعلنا من أهل التوكل واليقين.",
  "اللهم اجعلنا من الراجين رحمتك.",
  "اللهم ارزقنا قوة الإيمان.",
  "اللهم اجعل لنا في كل خطوة توفيقاً.",
  "اللهم اجعل لنا في كل يوم زيادة قرب.",
  "اللهم ارزقنا صلاح الحال.",
  "اللهم اجعلنا من أهل الصلاح والإصلاح.",
  "اللهم اجعل لنا نصيباً من السعادة.",
  "اللهم اجعلنا ممن تغشاهم الرحمة.",
  "اللهم اكتب لنا أجر الصائمين.",
  "اللهم اجعلنا من أهل الجود والكرم.",
  "اللهم اجعلنا ممن تُرفع درجاتهم.",
  "اللهم اجعلنا ممن تُبدّل سيئاتهم حسنات.",
  "اللهم ارزقنا محبة نبيك ﷺ واتباع سنته.",
  "اللهم اجعلنا في حفظك ورعايتك.",
  "اللهم اختم لنا رمضان برضوانك."
      
    ];
    const duaAdds = [
      "واجعلنا من المقبولين.", "واكتب لنا الخير حيث كان.", "وأحسن عاقبتنا في الأمور كلها.",
      "ولا تكلنا إلى أنفسنا طرفة عين.", "وارزقنا سكينةً وطمأنينة.", "واغفر لوالدينا ولمن نحب."
    ];
    const hadithBase = [
      "قال ﷺ: «إنما الأعمال بالنيات».",
  "قال ﷺ: «من لا يَرحم لا يُرحم».",
  "قال ﷺ: «أحبُّ الأعمال إلى الله أدومها وإن قل».",
  "قال ﷺ: «يسروا ولا تعسروا».",
  "قال ﷺ: «الدين النصيحة».",
  "قال ﷺ: «خيركم من تعلم القرآن وعلمه».",
  "قال ﷺ: «لا تغضب».",
  "قال ﷺ: «تبسمك في وجه أخيك صدقة».",
  "قال ﷺ: «الكلمة الطيبة صدقة».",
  "قال ﷺ: «الحياء من الإيمان».",
  "قال ﷺ: «المسلم من سلم المسلمون من لسانه ويده».",
  "قال ﷺ: «لا يؤمن أحدكم حتى يحب لأخيه ما يحب لنفسه».",
  "قال ﷺ: «اتقِ الله حيثما كنت».",
  "قال ﷺ: «وأتبع السيئة الحسنة تمحها».",
  "قال ﷺ: «وخالق الناس بخلق حسن».",
  "قال ﷺ: «من كان يؤمن بالله واليوم الآخر فليقل خيرًا أو ليصمت».",
  "قال ﷺ: «إن الله جميل يحب الجمال».",
  "قال ﷺ: «إن الله رفيق يحب الرفق».",
  "قال ﷺ: «الرفق لا يكون في شيء إلا زانه».",
  "قال ﷺ: «ولا ينزع من شيء إلا شانه».",
  "قال ﷺ: «المؤمن للمؤمن كالبنيان يشد بعضه بعضًا».",
  "قال ﷺ: «لا تحاسدوا».",
  "قال ﷺ: «ولا تناجشوا».",
  "قال ﷺ: «ولا تباغضوا».",
  "قال ﷺ: «ولا تدابروا».",
  "قال ﷺ: «وكونوا عباد الله إخوانًا».",
  "قال ﷺ: «أفشوا السلام بينكم».",
  "قال ﷺ: «الصدقة برهان».",
  "قال ﷺ: «الطهور شطر الإيمان».",
  "قال ﷺ: «الدال على الخير كفاعله».",
  "قال ﷺ: «من سلك طريقًا يلتمس فيه علمًا سهل الله له به طريقًا إلى الجنة».",
  "قال ﷺ: «إن الله لا ينظر إلى صوركم ولكن ينظر إلى قلوبكم».",
  "قال ﷺ: «استعينوا بالله ولا تعجزوا».",
  "قال ﷺ: «احفظ الله يحفظك».",
  "قال ﷺ: «احفظ الله تجده تجاهك».",
  "قال ﷺ: «إنما بعثت لأتمم مكارم الأخلاق».",
  "قال ﷺ: «المؤمن القوي خير وأحب إلى الله من المؤمن الضعيف».",
  "قال ﷺ: «من حسن إسلام المرء تركه ما لا يعنيه».",
  "قال ﷺ: «لا ضرر ولا ضرار».",
  "قال ﷺ: «الدنيا سجن المؤمن وجنة الكافر».",
  "قال ﷺ: «المرء مع من أحب».",
  "قال ﷺ: «أفضل الصدقة ما كان عن ظهر غنى».",
  "قال ﷺ: «ارحموا من في الأرض يرحمكم من في السماء».",
  "قال ﷺ: «اتقوا النار ولو بشق تمرة».",
  "قال ﷺ: «اليد العليا خير من اليد السفلى».",
  "قال ﷺ: «إن الله كتب الإحسان على كل شيء».",
  "قال ﷺ: «من غشنا فليس منا».",
  "قال ﷺ: «المسلم أخو المسلم».",
  "قال ﷺ: «لا يظلمه ولا يخذله ولا يحقره».",
  "قال ﷺ: «حسب امرئ من الشر أن يحقر أخاه المسلم».",
  "قال ﷺ: «الكِبر بطر الحق وغمط الناس».",
  "قال ﷺ: «إن الله لا يحب الفحش ولا التفحش».",
  "قال ﷺ: «من كان في حاجة أخيه كان الله في حاجته».",
  "قال ﷺ: «والله في عون العبد ما كان العبد في عون أخيه».",
  "قال ﷺ: «صلة الرحم تزيد في العمر».",
  "قال ﷺ: «البخيل من ذُكرت عنده فلم يصلِّ علي».",
  "قال ﷺ: «من صمت نجا».",
  "قال ﷺ: «إن الله يحب إذا عمل أحدكم عملاً أن يتقنه».",
  "قال ﷺ: «من توضأ فأحسن الوضوء خرجت خطاياه».",
  "قال ﷺ: «إن الله يحب التوابين».",
  "قال ﷺ: «ويحب المتطهرين».",
  "قال ﷺ: «لا يدخل الجنة من كان في قلبه مثقال ذرة من كبر».",
  "قال ﷺ: «من تواضع لله رفعه».",
  "قال ﷺ: «من غفر غفر الله له».",
  "قال ﷺ: «الراحمون يرحمهم الرحمن».",
  "قال ﷺ: «إن الله مع الصابرين».",
  "قال ﷺ: «من ستر مسلمًا ستره الله».",
  "قال ﷺ: «أقربكم مني مجلسًا أحاسنكم أخلاقًا».",
  "قال ﷺ: «خير الناس أنفعهم للناس».",
  "قال ﷺ: «أحب الأعمال إلى الله الصلاة على وقتها».",
  "قال ﷺ: «من قال سبحان الله وبحمده غُفرت ذنوبه».",
  "قال ﷺ: «لا تقوم الساعة حتى…» (اختصرها: أكثروا ذكر الله).",
  "قال ﷺ: «الدعاء هو العبادة».",
  "قال ﷺ: «من لم يشكر الناس لم يشكر الله».",
  "قال ﷺ: «ازهد في الدنيا يحبك الله».",
  "قال ﷺ: «وازهد فيما عند الناس يحبك الناس».",
  "قال ﷺ: «نعمتان مغبون فيهما كثير من الناس: الصحة والفراغ».",
  "قال ﷺ: «ألا أدلكم على ما يمحو الله به الخطايا…؟ إسباغ الوضوء».",
  "قال ﷺ: «من توضأ ثم قال أشهد أن لا إله إلا الله… فتحت له أبواب الجنة».",
  "قال ﷺ: «من توضأ ثم صلى ركعتين لا يحدث فيهما نفسه غفر له».",
  "قال ﷺ: «إذا أحب الله عبدًا نادى جبريل…».",
  "قال ﷺ: «سددوا وقاربوا وأبشروا».",
  "قال ﷺ: «لن يدخل أحدكم الجنة بعمله» (بل برحمة الله).",
  "قال ﷺ: «يسروا وبشروا».",
  "قال ﷺ: «إن الله لا يمل حتى تملوا».",
  "قال ﷺ: «إن الله يغار».",
  "قال ﷺ: «خيركم خيركم لأهله».",
  "قال ﷺ: «لا يؤمن أحدكم حتى يكون هواه تبعًا لما جئت به».",
  "قال ﷺ: «الظلم ظلمات يوم القيامة».",
  "قال ﷺ: «اتقوا دعوة المظلوم».",
  "قال ﷺ: «دعوة المظلوم ليس بينها وبين الله حجاب».",
  "قال ﷺ: «من كان يؤمن بالله واليوم الآخر فليكرم ضيفه».",
  "قال ﷺ: «لا تحقرن من المعروف شيئًا».",
  "قال ﷺ: «ولو أن تلقى أخاك بوجه طلق».",
  "قال ﷺ: «أفضل الذكر لا إله إلا الله».",
  "قال ﷺ: «وأفضل الدعاء الحمد لله».",
  "قال ﷺ: «من لزم الاستغفار جعل الله له من كل هم فرجًا».",
  "قال ﷺ: «ومن كل ضيق مخرجًا».",
  "قال ﷺ: «ومن كل بلاء عافية».",
  "قال ﷺ: «إن الله لا يقبض العلم انتزاعًا».",
  "قال ﷺ: «ولكن يقبض العلم بقبض العلماء».",
  "قال ﷺ: «من يرد الله به خيرًا يفقهه في الدين».",
  "قال ﷺ: «إن من البيان لسحرًا» (أي قوة الكلمة).",
  "قال ﷺ: «المؤمن مرآة المؤمن».",
  "قال ﷺ: «المؤمن يألف ويؤلف».",
  "قال ﷺ: «لا خير فيمن لا يألف ولا يؤلف».",
  "قال ﷺ: «أقيلوا ذوي الهيئات عثراتهم».",
  "قال ﷺ: «من توكل على الله فهو حسبه» (معنى الحديث)."
    ];
    
    
    function buildList100(base, adds){
      const out = [];
      let i = 0;
      while(out.length < 100){
        const b = base[i % base.length];
        const a = adds ? adds[(i*7 + 3) % adds.length] : "";
        out.push((adds ? `${b} ${a}` : b).trim());
        i++;
      }
      return out;
    }
    const duas = buildList100(duaBase, duaAdds);
    const ahadith = buildList100(hadithBase, null);

    // utils
    const pad = (n)=> String(n).padStart(2,"0");
    function to12h(hhmm24){
      const [H,M] = hhmm24.split(":").map(Number);
      const suffix = (H >= 12) ? "م" : "ص";
      let h = H % 12; if (h === 0) h = 12;
      return `${h}:${pad(M)} ${suffix}`;
    }
    function timeToDate(baseDate, hhmm24){
      const [hh, mm] = hhmm24.split(":").map(Number);
      const d = new Date(baseDate);
      d.setHours(hh, mm, 0, 0);
      return d;
    }
    function ramadanBaseDate(){
      return new Date(2026, 1, 18, 0, 0, 0, 0);
    }
    function indexForToday(){
      const base = ramadanBaseDate();
      const now = new Date();
      const today0 = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      const base0 = new Date(base.getFullYear(), base.getMonth(), base.getDate());
      const diffDays = Math.floor((today0 - base0) / 86400000);
      return Math.max(0, Math.min(data.length - 1, diffDays));
    }
    function sameDay(a,b){
      return a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate();
    }

    // state
    let idx = 0;
    let timer = null;
    let swapTimer = null;
    let dateTimer = null;
    let swapFlip = false;

    function animateSwap(cardEl, textEl, newText){
      cardEl.classList.add("out");
      setTimeout(()=>{
        textEl.textContent = newText;
        cardEl.classList.remove("out");
        cardEl.classList.add("flash");
        setTimeout(()=> cardEl.classList.remove("flash"), 900);
      }, 220);
    }

    function buildPrayerCards(d){
      const wrap = $("prayersWrap");
      wrap.innerHTML = "";
      prayers.forEach((p)=>{
        const col = document.createElement("div");
        col.className = "col-12 col-sm-6 col-lg-4";

        const card = document.createElement("div");
        card.className = "prayer-card d-flex align-items-center justify-content-between gap-2";
        card.id = "row-" + p.key;

        const left = document.createElement("div");
        left.className = "d-flex align-items-center gap-2";

        const ic = document.createElement("div");
        ic.className = "ic";
        ic.innerHTML = `<i class="mdi ${p.icon}"></i>`;

        const txt = document.createElement("div");
        txt.innerHTML = `<div class="pname">${p.name}</div><div class="small muted">بتوقيت مدينة بعقوبة</div>`;

        left.appendChild(ic);
        left.appendChild(txt);

        const right = document.createElement("div");
        right.className = "ptime";
        right.textContent = to12h(d[p.key]);

        card.appendChild(left);
        card.appendChild(right);

        col.appendChild(card);
        wrap.appendChild(col);
      });
    }

    function computeNextPrayerForToday(d, dayDate){
      const now = new Date();
      const events = prayers.map(p => ({
        ...p,
        t24: d[p.key],
        dt: timeToDate(dayDate, d[p.key])
      }));
      const upcoming = events.find(e => e.dt > now);
      if (upcoming) return { ...upcoming, isTomorrow:false };

      const nextDay = data[idx + 1];
      if (nextDay){
        const tomorrowDate = new Date(dayDate);
        tomorrowDate.setDate(tomorrowDate.getDate() + 1);
        return {
          ...prayers[0],
          t24: nextDay.fajr,
          dt: timeToDate(tomorrowDate, nextDay.fajr),
          isTomorrow:true
        };
      }
      return null;
    }

    function setActiveCard(nextKey){
      prayers.forEach(p => $("row-"+p.key)?.classList.remove("active"));
      $("row-"+nextKey)?.classList.add("active");
    }

    function setAttentionByMinutes(mins){
      const root = $("attnRoot");
      const badge = $("nextBadge");
      root.classList.remove("attn-calm","attn-near","attn-soon","attn-urgent");
      badge.classList.remove("near","soon","urgent");

      let cls = "attn-calm";
      if (mins <= 5) cls = "attn-urgent";
      else if (mins <= 20) cls = "attn-soon";
      else if (mins <= 60) cls = "attn-near";

      root.classList.add(cls);

      if (cls === "attn-near") badge.classList.add("near");
      if (cls === "attn-soon") badge.classList.add("soon");
      if (cls === "attn-urgent") badge.classList.add("urgent");
    }

    function render(){
      const d = data[idx];
      const base = ramadanBaseDate();
      const dayDate = new Date(base);
      dayDate.setDate(base.getDate() + idx);

      $("dayLine").textContent = `${d.dow} — ${d.h}`;
      $("dateSwap").textContent = swapFlip ? `الميلادي: ${d.g}` : `الهجري: ${d.h}`;

      buildPrayerCards(d);

      const isToday = sameDay(new Date(), dayDate);

      let next = null;
      if (isToday){
        next = computeNextPrayerForToday(d, dayDate);
      } else {
        next = { ...prayers[0], t24: d[prayers[0].key], dt: null, isTomorrow:false };
      }

      if (!next){
        $("nextShort").textContent = "—";
        $("nextBadge").querySelector("span").textContent = "—";
        $("countdown").textContent = "— — —";
        setAttentionByMinutes(9999);
        return;
      }

      $("nextShort").textContent = next.name;

      // ✅ فقط اسم الصلاة + وقتها (بدون باقي)
      $("nextBadge").querySelector("span").textContent =
        `${next.name} — ${to12h(next.t24)}${next.isTomorrow ? " (غداً)" : ""}`;

      if (isToday){
        setActiveCard(next.key);
      } else {
        setActiveCard(prayers[0].key);
      }

      if (timer) clearInterval(timer);

      function tick(){
        if (!isToday || !next.dt){
          $("countdown").textContent = "— — —";
          setAttentionByMinutes(9999);
          return;
        }

        const diff = next.dt - new Date();
        if (diff <= 0){
          render();
          return;
        }

        const h = Math.floor(diff/3600000);
        const m = Math.floor((diff%3600000)/60000);
        const s = Math.floor((diff%60000)/1000);
        $("countdown").textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;

        setAttentionByMinutes(Math.floor(diff/60000));
      }

      tick();
      timer = setInterval(tick, 1000);
    }

    function setIndex(newIdx){
      idx = Math.max(0, Math.min(data.length-1, newIdx));
      render();

      // seed dua/hadith by day
      $("duaText").textContent = duas[idx % duas.length];
      $("hadithText").textContent = ahadith[idx % ahadith.length];
    }

    function goToday(){
      setIndex(indexForToday());
    }

    $("btnPrev").addEventListener("click", ()=> setIndex(idx-1));
    $("btnNext").addEventListener("click", ()=> setIndex(idx+1));

    $("btnShuffle").addEventListener("click", ()=>{
      const seed = Math.floor(Date.now()/1000);
      animateSwap($("duaCard"), $("duaText"), duas[(idx + seed) % duas.length]);
      animateSwap($("hadithCard"), $("hadithText"), ahadith[(idx + seed*2) % ahadith.length]);
    });

    function startAutoSwap(){
      if (swapTimer) clearInterval(swapTimer);
      swapTimer = setInterval(()=>{
        const t = Math.floor(Date.now()/1000);
        animateSwap($("duaCard"), $("duaText"), duas[(idx + t) % duas.length]);
        animateSwap($("hadithCard"), $("hadithText"), ahadith[(idx + t*2) % ahadith.length]);
      }, 7000);
    }

    function startDateSwap(){
      if (dateTimer) clearInterval(dateTimer);
      dateTimer = setInterval(()=>{
        const el = $("dateSwap");
        el.classList.add("out");
        setTimeout(()=>{
          swapFlip = !swapFlip;
          el.textContent = swapFlip ? `الميلادي: ${data[idx].g}` : `الهجري: ${data[idx].h}`;
          el.classList.remove("out");
          el.classList.add("in");
        }, 220);
      }, 3200);
    }

    // Always open today on return
    document.addEventListener("visibilitychange", ()=>{
      if (!document.hidden) goToday();
    });
    window.addEventListener("pageshow", goToday);
    
    
    // ===== PRINT ADD-ON (12h + One Page) =====
function to12hPrint(hhmm24){
  const [H,M] = hhmm24.split(":").map(Number);
  const suffix = (H >= 12) ? "م" : "ص";
  let h = H % 12; if (h === 0) h = 12;
  return `${h}:${String(M).padStart(2,"0")} ${suffix}`;
}

function buildPrintTable(){
  const tbody = document.getElementById("printTbody");
  const meta = document.getElementById("printMeta");
  if(!tbody || !meta) return;

  tbody.innerHTML = "";

  const now = new Date();
  const dd = String(now.getDate()).padStart(2,"0");
  const mm = String(now.getMonth()+1).padStart(2,"0");
  const yyyy = now.getFullYear();
  const hh = String(now.getHours()).padStart(2,"0");
  const mi = String(now.getMinutes()).padStart(2,"0");
  meta.textContent = `تم إنشاء الطباعة: ${dd}/${mm}/${yyyy} — ${hh}:${mi}`;

  // لازم يكون عندك مصفوفة data[] مثل كودك القديم
  data.forEach((d)=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td class="c-day">${d.n} ${d.dow}</td>
      <td class="c-h">${d.h}</td>
      <td class="c-g">${d.g}</td>
      <td>${to12hPrint(d.fajr)}</td>
      <td>${to12hPrint(d.sunrise)}</td>
      <td>${to12hPrint(d.dhuhr)}</td>
      <td>${to12hPrint(d.asr)}</td>
      <td>${to12hPrint(d.maghrib)}</td>
      <td>${to12hPrint(d.isha)}</td>
    `;
    tbody.appendChild(tr);
  });
}

document.addEventListener("DOMContentLoaded", ()=>{
  const btn = document.getElementById("btnPrint");
  if(!btn) return;
  btn.addEventListener("click", ()=>{
    buildPrintTable();
    setTimeout(()=> window.print(), 90);
  });
});

    // Init
    goToday();
    startAutoSwap();
    startDateSwap();
  </script>
</body>
</html>
